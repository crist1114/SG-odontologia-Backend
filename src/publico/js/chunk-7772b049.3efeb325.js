(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7772b049"],{"00ef":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.mensaje.ver?n("div",{staticClass:"alert text-center fixed-bottom alert-dismissible fade show",class:"alert-"+e.mensaje.color,attrs:{id:"mensaje",role:"alert"}},[n("h6",[e._v(e._s(e.mensaje.contenido))]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.cerrar}},[e._v("x")])]):e._e()])},o=[],i={name:"Mensaje",created:function(){this.cerrar()},props:{mensaje:Object},methods:{cerrar:function(){setInterval(this.ocultar,5e3),this.ocultar()},ocultar:function(){this.mensaje.ver=!1}}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["a"]=c.exports},cddd:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center container-inicio-sesion"},[n("Mensaje",{attrs:{mensaje:e.mensaje}}),n("p",{staticClass:"mt-4 titulo-modulo"},[e._v("Registro Examen:")]),n("div",{staticClass:"d-flex justify-content-center align-items-center container"},[n("div",{staticClass:"row"},[n("form",{staticClass:"formulario",on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.examen.nro_documento,expression:"examen.nro_documento"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Número Documento",required:""},domProps:{value:e.examen.nro_documento},on:{input:function(t){t.target.composing||e.$set(e.examen,"nro_documento",t.target.value)}}}),n("button",{staticClass:"btn btn-info form-control",on:{click:function(t){return e.verInfoPaciente()}}},[e._v(" Buscar ")])]),null!==e.infoPaciente?n("div",[n("h5",{staticClass:"mb-5"},[e._v("Paciente: "+e._s(e.infoPaciente.nombre)+" "+e._s(e.infoPaciente.apellido))]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.examen.nombre,expression:"examen.nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre del examen",required:""},domProps:{value:e.examen.nombre},on:{input:function(t){t.target.composing||e.$set(e.examen,"nombre",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.examen.ubicacion_Fisica,expression:"examen.ubicacion_Fisica"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ubicación física",required:""},domProps:{value:e.examen.ubicacion_Fisica},on:{input:function(t){t.target.composing||e.$set(e.examen,"ubicacion_Fisica",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"select"}},[e._v("Fecha:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.examen.fecha,expression:"examen.fecha"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:e.examen.fecha},on:{input:function(t){t.target.composing||e.$set(e.examen,"fecha",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"file"}},[e._v("Archivo (Ubicación Digital):")]),n("input",{staticClass:"form-control",attrs:{id:"file",type:"file",required:""}}),""===e.nombreArchivo?n("button",{staticClass:"btn btn-info form-control",on:{click:function(t){return e.subirArchivo()}}},[e._v(" Subir archivo ")]):e._e(),""!==e.nombreArchivo?n("button",{staticClass:"btn btn-danger form-control",on:{click:function(t){return e.eliminarArchivo()}}},[e._v(" Eliminar archivo ")]):e._e()]),n("div",{staticClass:"form-group mt-5"},[n("button",{staticClass:"btn btn-info",on:{click:function(t){return e.cancelar()}}},[e._v("Cancelar")]),n("button",{staticClass:"btn btn-success ml-5",on:{click:function(t){return e.registro()}}},[e._v(" Guardar ")])])]):e._e()])])])],1)},o=[],i=n("00ef"),r={data:function(){return{examen:{},examenIngresado:{},mensaje:{ver:!1},nombreArchivo:"",infoPaciente:null}},methods:{cancelar:function(){this.$router.push("/examen")},crearMensaje:function(e,t){this.mensaje.ver=!0,this.mensaje.contenido=e,this.mensaje.color=t},registro:function(){var e=this;this.examen.ubicacion_Digital=this.nombreArchivo,this.axios.post("examen",this.examen,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.warn(t,"R examens"),t&&200===t.status&&(e.crearMensaje("Guardado correctamente","success"),e.$router.push("/examen"))})).catch((function(t){e.crearMensaje(t.response.data.mensaje,"danger")}))},verTiposDocumentos:function(){var e=this;this.axios.get("tipo_documento",{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.warn(t),e.tiposDocumentos=t.data}))},subirArchivo:function(){var e=this,t=new FormData,n=document.querySelector("#file");t.append("file",n.files[0]),this.axios.post("subir",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),e.nombreArchivo=t.data.filename}))},eliminarArchivo:function(){var e=this;this.axios.delete("subir/"+this.nombreArchivo).then((function(t){console.log(t),e.nombreArchivo=""})).catch((function(e){return console.log(e)}))},verInfoPaciente:function(){var e=this;void 0!==this.examen.nro_documento&&this.axios.get("paciente/"+this.examen.nro_documento,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.log(t,"respuesta info"),t.data.length>0?e.infoPaciente=t.data[0]:(e.infoPaciente=null,e.crearMensaje(t.data.mensaje,"danger"))})).catch((function(t){e.crearMensaje(t.response.data.mensaje,"danger")}))}},components:{Mensaje:i["a"]}},s=r,c=n("2877"),l=Object(c["a"])(s,a,o,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7772b049.3efeb325.js.map