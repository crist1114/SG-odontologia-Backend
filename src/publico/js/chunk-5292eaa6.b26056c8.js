(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5292eaa6"],{"00ef":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.mensaje.ver?a("div",{staticClass:"alert text-center fixed-bottom alert-dismissible fade show",class:"alert-"+e.mensaje.color,attrs:{id:"mensaje",role:"alert"}},[a("h6",[e._v(e._s(e.mensaje.contenido))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.cerrar}},[e._v("x")])]):e._e()])},i=[],o={name:"Mensaje",created:function(){this.cerrar()},props:{mensaje:Object},methods:{cerrar:function(){setInterval(this.ocultar,5e3),this.ocultar()},ocultar:function(){this.mensaje.ver=!1}}},r=o,c=a("2877"),s=Object(c["a"])(r,n,i,!1,null,null,null);t["a"]=s.exports},1215:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Mensaje",{attrs:{mensaje:e.mensaje}}),a("h3",{staticClass:"text-center text-success mb-4"},[e._v("Agenda")]),a("div",{staticClass:"contenedor-input_buscar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.buscar,expression:"buscar"}],staticClass:"form-control text-center formulario",attrs:{type:"text",placeholder:"Ingrese la identificación del Paciente"},domProps:{value:e.buscar},on:{click:function(t){return e.verCitas()},input:function(t){t.target.composing||(e.buscar=t.target.value)}}}),a("button",{staticClass:"btn btn-outline-success ml-2",on:{click:function(t){return e.filtrar()}}},[a("span",{staticClass:"icon-Lupa"})])]),a("vue-scheduler",{attrs:{"min-date":null,"max-date":null,labels:{today:"Hoy",back:"Atrás",next:"Siguiente",month:"Mes",week:"Semana",day:"Día",all_day:"Todo el día"},"time-range":[8,18],"available-views":["month","week","day"],"initial-view":"week",use12:"","show-today-button":!1,events:e.citas,"event-dialog-config":e.dialogConfig},on:{"month-changed":e.monthChanged,"week-changed":e.weekChanged,"day-changed":e.dayChanged,"view-changed":e.viewChanged,"day-clicked":e.dayClicked,"time-clicked":e.timeClicked,"event-clicked":e.eventClicked,"event-created":e.eventCreated}}),a("div",{staticClass:"modal fade",attrs:{id:"modalCita",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("h4",[e._v("Identificación Paciente: "+e._s(e.citaVer.nro_documento))]),a("p",[e._v(" Hora inicio: "+e._s(e.citaVer.hora_inicio)+" - Hora fin: "+e._s(e.citaVer.hora_fin)+" ")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v(" Cerrar ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.eliminarCita()}}},[e._v(" Eliminar Cita ")])])])])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header bg-success"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Cita")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],o=a("b85c"),r=(a("4de4"),a("00ef")),c={components:{Mensaje:r["a"]},data:function(){return{mensaje:{ver:!1},citas:[],buscar:"",citaVer:{},events:[{date:new Date,startTime:"13:00",endTime:"15:00",name:"Date with David"}],dialogConfig:{title:"Agendar nueva cita",createButtonLabel:"Guardar Cita",enableTimeInputs:!0,fields:[{name:"nro_documento",label:"Identificación del Paciente"}]}}},created:function(){this.verCitas()},methods:{monthChanged:function(e){console.log("Month Changed"),console.log(e)},weekChanged:function(e){console.log("Week Changed"),console.log(e)},dayChanged:function(e){console.log("Day Changed"),console.log(e)},viewChanged:function(e){console.log("View Changed"),console.log(e)},dayClicked:function(e){console.log("Day clicked"),console.log(e.getDate())},timeClicked:function(e){console.log("Time clicked"),console.log("Date: "+e.date),console.log("Time: "+e.time)},eventClicked:function(e){console.log("Event clicked");var t={id_cita:e.id_cita,nro_documento:e.nro_documento,fecha:e.date,hora_inicio:e.startTime,hora_fin:e.endTime};this.citaVer=t,$("#modalCita").modal("show"),console.log(e)},eventCreated:function(e){console.log("Event created"),console.log(e);var t={nro_documento:e.nro_documento,fecha:e.date,hora_inicio:e.startTime,hora_fin:e.endTime};this.guardarCita(t)},guardarCita:function(e){var t=this;this.axios.post("cita",e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){e&&200===e.status&&(t.crearMensaje("Guardado correctamente","success"),t.verCitas())})).catch((function(e){t.crearMensaje(e.response.data.mensaje,"danger"),t.verCitas()}))},verCitas:function(){var e=this;this.axios.get("cita",{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){var a=[];e.pacientes=t.data;var n,i=Object(o["a"])(t.data);try{for(i.s();!(n=i.n()).done;){var r=n.value,c={id_cita:r.id_cita,date:r.fecha,startTime:r.hora_inicio,endTime:r.hora_fin,nro_documento:r.id_paciente};a.push(c)}}catch(s){i.e(s)}finally{i.f()}e.citas=a,console.warn(e.citas,"citas mostrar")})).catch((function(t){e.crearMensaje(t.response.data.mensaje,"danger")}))},eliminarCita:function(){var e=this;this.axios.delete("cita/"+this.citaVer.id_cita,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&($("#modalCita").modal("hide"),e.verCitas())})).catch((function(t){e.crearMensaje(t.response.data.mensaje,"danger")}))},filtrar:function(){var e=this,t=[],a=this.citas;t=this.citas.filter((function(t){return t.nro_documento===e.buscar})),t.length>0?this.citas=t:(this.crearMensaje("No se encontraron citas","danger"),this.citas=a)},crearMensaje:function(e,t){this.mensaje.ver=!0,this.mensaje.contenido=e,this.mensaje.color=t}}},s=c,l=a("2877"),d=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=d.exports},"4df4":function(e,t,a){"use strict";var n=a("0366"),i=a("7b0b"),o=a("9bdd"),r=a("e95a"),c=a("68ee"),s=a("07fa"),l=a("8418"),d=a("9a1f"),u=a("35a1");e.exports=function(e){var t=i(e),a=c(this),f=arguments.length,m=f>1?arguments[1]:void 0,h=void 0!==m;h&&(m=n(m,f>2?arguments[2]:void 0,2));var v,g,b,C,p,y,_=u(t),w=0;if(!_||this==Array&&r(_))for(v=s(t),g=a?new this(v):Array(v);v>w;w++)y=h?m(t[w],w):t[w],l(g,w,y);else for(C=d(t,_),p=C.next,g=a?new this:[];!(b=p.call(C)).done;w++)y=h?o(C,m,[b.value,w],!0):b.value,l(g,w,y);return g.length=w,g}},"9bdd":function(e,t,a){var n=a("825a"),i=a("2a62");e.exports=function(e,t,a,o){try{return o?t(n(a)[0],a[1]):t(a)}catch(r){i(e,"throw",r)}}},a630:function(e,t,a){var n=a("23e7"),i=a("4df4"),o=a("1c7e"),r=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:r},{from:i})},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("fb6a"),a("b0c0"),a("a630");function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function i(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}function o(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=i(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(s)throw r}}}}},d28b:function(e,t,a){var n=a("746f");n("iterator")},e01a:function(e,t,a){"use strict";var n=a("23e7"),i=a("83ab"),o=a("da84"),r=a("1a2d"),c=a("1626"),s=a("861d"),l=a("9bf2").f,d=a("e893"),u=o.Symbol;if(i&&c(u)&&(!("description"in u.prototype)||void 0!==u().description)){var f={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new u(e):void 0===e?u():u(e);return""===e&&(f[t]=!0),t};d(m,u);var h=m.prototype=u.prototype;h.constructor=m;var v=h.toString,g="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=v.call(e);if(r(f,e))return"";var a=g?t.slice(7,-1):t.replace(b,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:m})}}}]);
//# sourceMappingURL=chunk-5292eaa6.b26056c8.js.map